!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Truss=t():e.Truss=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function o(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=-1;t.default={getNextUniqueId:function(){return"blinx-wrapper-"+ ++u},pick:function(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n},length:function(e){return Array.isArray(e)?e.length:"object"===(void 0===e?"undefined":i(e))?Object.keys(e).length:"string"==typeof e?e.length:0},trim:function(e,t){return e.slice(r(e,t),o(e,t)+1)},clearSlashes:function(e){return this.trim(e,"/")},partial:function(e){var t=Array.prototype.slice,n=t.call(arguments,1);return function(){return e.apply(this,n.concat(t.call(arguments,0)))}},getCSSSelector:function(e,t){try{for(var n=""+e.instanceConfig.container,r=e.meta.parent&&e.meta.parent.pointer?e.meta.parent.pointer:void 0;r;)n=r.instanceConfig.container+" "+n,r=r.meta.parent&&r.meta.parent.pointer?r.meta.parent.pointer:void 0;return n}catch(e){return""}},configValidator:function(e){var t=!0;return e||(console.error("Config is mandatory to create instance of any module."),t=!1),e.moduleName||(console.error("moduleName property on config is require field to create instance of any module."),t=!1),"string"!=typeof e.moduleName&&(console.error("moduleName property on config should be string."),t=!1),e.module&&"object"===i(e.module)||(console.error("module property on config is mandatory and should be object"),t=!1),(!e.instanceConfig||e.instanceConfig&&!e.instanceConfig.container)&&(console.error("instanceConfig property and instanceConfig.container is mandatory"),t=!1),t||console.dirxml(e),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r([],{insertInstance:function(e){this.push(e)},deleteInstance:function(e){for(var t=this.length-1;t>=0;t--)if(this[t].meta.id===e){this.splice(t,1);break}},findInstance:function(e,t){return e?this.filter(function(t){if(t.meta.id===e)return t}):t?this.filter(function(e){if(e.name===t)return e}):[]}}),i="undefined"!=typeof window,u=!i,a={},c={store:[]},s=[];t.isBrowser=i,t.subscriptions=a,t.moduleS=o,t.isServer=u,t.eventQ=c,t.middleWareFns=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(1),c=function(e,t){console.group("Event Subscribed"),console.info(e),console.dirxml(t),console.groupEnd()},s=function(e,t){console.group("Event Published"),console.info(e),console.dirxml(t),console.groupEnd()},l=function(e,t){console.group("Event UnSubscribed"),console.info(e),console.dirxml(t),console.groupEnd()},f=function(e){return e&&e.lifeCycleFlags&&1==e.lifeCycleFlags.rendered},d=function(e,t){return e&&e.instanceConfig&&e.instanceConfig.initOn&&e.instanceConfig.initOn.eventName==t},p=function(e){return e&&"PUBSUB"==e.getInstanceName()};t.default=function(){function e(){r(this,e)}return o(e,[{key:"subscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.eventName;a.subscriptions[t]||(a.subscriptions[t]=[]);var n=u.default.pick(e,["callback","context","eventSubscriber","eventPublisher","once","type"]);n.moduleContext=this,a.subscriptions[t].push(n),c(t,e)}},{key:"publish",value:function(e,t){var n="";3===arguments.length?(n=arguments[0]||"",e=arguments[1],t=arguments[2]):n=u.default.getCSSSelector(this);var r=a.subscriptions[e];if(r){s(e,{eventName:e,message:t,publisher:n,subscription:r});r.filter(function(e){if("RE_PLAY"===e.type)return e}).length&&a.eventQ.store.push({eventName:e,message:t,publisher:n}),r&&r.length&&r.forEach(function(r){var o=r.callback,i=r.context,u=r.once,c=r.moduleContext,s=!1;if(!o||"function"!=typeof o)return void console.error("The callback for the event is invalid");if(r.eventPublisher){if(RegExp(r.eventPublisher+"$").test(n))s=!0;else{for(var l=n.split(" "),h=r.eventPublisher.split(" "),v=l.length,y=h.length;l.length&&h.length;)v=l.length,y=h.length,l[v-1]===h[y-1]?(l.pop(),h.pop()):l.pop();h.length||(s=!0)}}if(!r.eventPublisher||s){var b=t;(f(c)||d(c,e)||p(c)||"KEEP_ON"==r.type)&&o.call(i||null,b),u&&(a.subscriptions[e]=a.subscriptions[e].filter(function(e){return e.eventSubscriber!==r.eventSubscriber&&e.eventName!==r.eventName}))}})}}},{key:"unsubscribe",value:function(e,t,n){var r=a.subscriptions[t];if(r){var o=r.filter(function(e){if("RE_PLAY"===e.type)return e});a.subscriptions[t]=r.filter(function(t){return!(t.callback===n&&t.eventSubscriber===e)}),l(t,r),o.length&&(a.subscriptions[t].length||(a.eventQ.store=a.eventQ.store.filter(function(e){if(e.eventName!==t)return e})))}}},{key:"getInstanceName",value:function(){return"PUBSUB"}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(Array.isArray(e)){var n=[];return e.forEach(function(e){n.push(o(e))}),n}var r=void 0;return r="string"==typeof e?p.moduleS.findInstance(e):e.meta?p.moduleS.findInstance(e.meta.id):p.moduleS.findInstance(null,e.name),r.forEach(function(e){e[v.default.MODULE_EVENTS.destroy]&&e[v.default.MODULE_EVENTS.destroy]();var n=t.document.querySelector("#"+e.getUniqueId());if(n&&(n.remove(),n=null),e.getAllSubscriptions().forEach(function(t){e.unsubscribe(t.eventName,t.callback)}),e.meta.children&&e.meta.children.length){var r=e.meta.children.map(function(e){return e.pointer});e.meta.children=[],r.forEach(function(e){o(e)})}p.moduleS.deleteInstance(e.meta.id)}),!0}function i(e,t){if(e=(0,l.default)({},e),c.default.configValidator(e)){p.moduleS.filter(function(t){return t.instanceConfig.container===e.instanceConfig.container}).forEach(function(e){o(e)});var n=[],r=[];return w.call(this,e.moduleName,e,e.module,e.instanceConfig,r,t),C.call(this,r,n),new Promise(function(e,t){Promise.all(n).then(e).catch(t)})}}function u(e){p.middleWareFns.push(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyInstance=void 0,t.destroyModuleInstance=o,t.createInstance=i,t.use=u;var a=n(0),c=r(a),s=n(7),l=r(s),f=n(8),d=r(f),p=n(1),h=n(10),v=r(h),y=n(11),b=r(y),_=function(e,t){e[v.default.MODULE_EVENTS.onStatusChange]&&e[v.default.MODULE_EVENTS.onStatusChange](t)},g=function(e,t){e.publish(""+e.getModuleName()+t,{moduleInstanceId:e.getUniqueId()})},m=function(e){return e.instanceConfig.initOn||e.lifeCycleFlags.rendered?Promise.resolve(e.path):E(e)},E=function(e,t){if(d.default.createModuleArena(e),e[v.default.MODULE_EVENTS.resolveRenderOn]){var n=e[v.default.MODULE_EVENTS.resolveRenderOn](t);if(n&&n.then&&"function"==typeof n.then){var r=function(t){return e.lifeCycleFlags.preRenderResolved=!0,_(e,v.default.onStatusChange_EVENTS.resolveRenderOnCalled),j(e,t)};return n.then(r).catch(r)}return _(e,v.default.onStatusChange_EVENTS.resolveRenderOnCalled),j(e,n)}return _(e,v.default.onStatusChange_EVENTS.resolveRenderOnCalled),j(e,t)},j=function(e,t){return e.instanceConfig.listensTo&&e.instanceConfig.listensTo.length&&e.instanceConfig.listensTo.filter(function(e){if(e.type===v.default.EVENT_ENUM.playAfterRender||!e.type)return e}).forEach(function(t){e.subscribe({eventName:t.eventName,callback:e[t.callback],context:e,eventPublisher:t.eventPublisher,once:t.once})}),_(e,v.default.onStatusChange_EVENTS.listensToPlayAfterRenderSubscribed),O(e,t)},O=function(e,t){return new Promise(function(n,r){var o=e[v.default.MODULE_EVENTS.render](t,o);e.lifeCycleFlags.rendered=!0,g(e,"_READY"),_(e,v.default.onStatusChange_EVENTS.renderCalled),e[v.default.MODULE_EVENTS.onRenderComplete]&&(e[v.default.MODULE_EVENTS.onRenderComplete](),_(e,v.default.onStatusChange_EVENTS.onRenderCompleteCalled)),n(),e.dequeueEvents()})},C=function e(t,n){var r=t.filter(function(e){return!e.meta.parent.id});r.length||(r=[t[0]]),r.forEach(function(t){var r=new Promise(function(r,o){m(t).then(function(){t.meta.children&&t.meta.children.length&&t.meta.children&&t.meta.children.forEach(function(t){t.pointer.lifeCycleFlags.rendered||e([t.pointer],n)}),r(t.meta.id)})});n.push(r)})},S=function(e){e.instanceConfig.initOn&&e.subscribe({eventName:e.instanceConfig.initOn.eventName,eventPublisher:e.instanceConfig.initOn.eventPublisher,context:e.instanceConfig,callback:c.default.partial(E,e),once:!0}),_(e,v.default.onStatusChange_EVENTS.initOnSubscribed),e.instanceConfig.listensTo&&e.instanceConfig.listensTo.length&&e.instanceConfig.listensTo.filter(function(e){if(e.type===v.default.EVENT_ENUM.keepOn||e.type===v.default.EVENT_ENUM.replay)return e}).forEach(function(t){e.subscribe({eventName:t.eventName,callback:e[t.callback],context:e,eventPublisher:t.eventPublisher,once:t.once,type:t.type})}),_(e,v.default.onStatusChange_EVENTS.keepOnReplaySubscribed)},w=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.module,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.instanceConfig,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:u&&u.meta;"string"==typeof u&&(u=p.moduleS.find(function(e){return e.name===u}),a=u&&u.meta);var s=n.name?n.name.split("."):void 0,f=void 0;if(u&&u.instanceConfig&&u.instanceConfig.modules&&u.instanceConfig.modules.length){var h=u.instanceConfig.modules.filter(function(e){return e.moduleName===t});if(h&&h.length){var y=h[0].instanceConfig||{};o.placeholders=y.placeholders||o.placeholders,o.listensTo=y.listensTo||o.listensTo}}if(o.placeholders&&r&&r.config&&r.config.placeholders&&(o.placeholders=(0,l.default)(r.config.placeholders,o.placeholders)),this instanceof d.default){var b=this.getUniqueId();f=p.moduleS.filter(function(e){return e.meta.id===b})}else!u&&s&&2===s.length&&(f=p.moduleS.filter(function(e){return e.name===s[0]}));f&&f.length&&(u=f[0],a=u.meta);var m={id:c.default.getNextUniqueId(),parent:{id:a&&a.id?a.id:void 0,pointer:u},children:[],siblings:a?[].concat(a.children):[]},E=new d.default(n.name,t,v.default.lifeCycleFlags,o,r,m);if(p.moduleS.insertInstance(E),i.push(E),S(E),g(E,"_CREATED"),_(E,v.default.onStatusChange_EVENTS.onCreate),a&&(m.siblings=[].concat(a.children),a.children.push({id:m.id,pointer:E})),!(r.config&&r.config.modules&&r.config.modules.length))return i;r.config.modules.forEach(function(t){e(t.moduleName,t,t.module,t.instanceConfig,i,E)})},N=t.destroyInstance=o;b.default.attachListener(function(){return p.moduleS}),t.default={createInstance:i,destroyInstance:N,destroyModuleInstance:o,use:u}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PubSubHelper=void 0;var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(3);t.PubSubHelper=new o.default;t.default={createInstance:i.createInstance,destroyInstance:i.destroyInstance,destroyModuleInstance:i.destroyModuleInstance,use:i.use}},function(e,t,n){(function(e,n){function r(e,t){return e.set(t[0],t[1]),e}function o(e,t){return e.add(t),e}function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function c(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function l(e,t){return null==e?void 0:e[t]}function f(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function p(e,t){return function(n){return e(t(n))}}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__=Xt?Xt(null):{}}function b(e){return this.has(e)&&delete this.__data__[e]}function _(e){var t=this.__data__;if(Xt){var n=t[e];return n===Ve?void 0:n}return Mt.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return Xt?void 0!==t[e]:Mt.call(t,e)}function m(e,t){return this.__data__[e]=Xt&&void 0===t?Ve:t,this}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(){this.__data__=[]}function O(e){var t=this.__data__,n=$(t,e);return n>=0&&(n==t.length-1?t.pop():Bt.call(t,n,1),!0)}function C(e){var t=this.__data__,n=$(t,e);return 0>n?void 0:t[n][1]}function S(e){return $(this.__data__,e)>-1}function w(e,t){var n=this.__data__,r=$(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(){this.__data__={hash:new v,map:new(Gt||E),string:new v}}function P(e){return pe(this,e).delete(e)}function I(e){return pe(this,e).get(e)}function T(e){return pe(this,e).has(e)}function k(e,t){return pe(this,e).set(e,t),this}function M(e){this.__data__=new E(e)}function R(){this.__data__=new E}function x(e){return this.__data__.delete(e)}function L(e){return this.__data__.get(e)}function U(e){return this.__data__.has(e)}function F(e,t){var n=this.__data__;if(n instanceof E){var r=n.__data__;if(!Gt||De-1>r.length)return r.push([e,t]),this;n=this.__data__=new N(r)}return n.set(e,t),this}function D(e,t){var n=ln(e)||we(e)?s(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!Mt.call(e,i)||o&&("length"==i||_e(i,r))||n.push(i);return n}function V(e,t,n){(void 0===n||Se(e[t],n))&&("number"!=typeof t||void 0!==n||t in e)||(e[t]=n)}function z(e,t,n){var r=e[t];Mt.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function $(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function B(e,t){return e&&le(t,xe(t),e)}function q(e,t,n,r,o,i,a){var c;if(r&&(c=i?r(e,o,i,a):r(e)),void 0!==c)return c;if(!Te(e))return e;var s=ln(e);if(s){if(c=ve(e),!t)return se(e,c)}else{var l=sn(e),d=l==Ye||l==We;if(fn(e))return te(e,t);if(l==Ge||l==$e||d&&!i){if(f(e))return i?e:{};if(c=ye(d?{}:e),!t)return fe(e,B(c,e))}else{if(!bt[l])return i?e:{};c=be(e,l,q,t)}}a||(a=new M);var p=a.get(e);if(p)return p;if(a.set(e,c),!s)var h=n?de(e):xe(e);return u(h||e,function(o,i){h&&(i=o,o=e[i]),z(c,i,q(o,t,n,r,i,e,a))}),c}function Y(e){return Te(e)?zt(e):{}}function W(e,t,n){var r=t(e);return ln(e)?r:a(r,n(e))}function H(e){return xt.call(e)}function Q(e){return!(!Te(e)||Ee(e))&&(Pe(e)||f(e)?Lt:ht).test(Ce(e))}function G(e){return ke(e)&&Ie(e.length)&&!!yt[xt.call(e)]}function J(e){if(!je(e))return Wt(e);var t=[];for(var n in Object(e))Mt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function K(e){if(!Te(e))return Oe(e);var t=je(e),n=[];for(var r in e)("constructor"!=r||!t&&Mt.call(e,r))&&n.push(r);return n}function Z(e,t,n,r,o){if(e!==t){if(!ln(t)&&!dn(t))var i=K(t);u(i||t,function(u,a){if(i&&(a=u,u=t[a]),Te(u))o||(o=new M),X(e,t,a,n,Z,r,o);else{var c=r?r(e[a],u,a+"",e,t,o):void 0;void 0===c&&(c=u),V(e,a,c)}})}}function X(e,t,n,r,o,i,u){var a=e[n],c=t[n],s=u.get(c);if(s)return void V(e,n,s);var l=i?i(a,c,n+"",e,t,u):void 0,f=void 0===l;f&&(l=c,ln(c)||dn(c)?ln(a)?l=a:Ae(a)?l=se(a):(f=!1,l=q(c,!0)):Me(c)||we(c)?we(a)?l=Re(a):!Te(a)||r&&Pe(a)?(f=!1,l=q(c,!0)):l=a:f=!1),f&&(u.set(c,l),o(l,c,r,i,u),u.delete(c)),V(e,n,l)}function ee(e,t){return t=Ht(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Ht(n.length-t,0),u=Array(o);++r<o;)u[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=u,i(e,this,a)}}function te(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ne(e){var t=new e.constructor(e.byteLength);return new Dt(t).set(new Dt(e)),t}function re(e,t){return new e.constructor(t?ne(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function oe(e,t,n){return c(t?n(d(e),!0):d(e),r,new e.constructor)}function ie(e){var t=new e.constructor(e.source,pt.exec(e));return t.lastIndex=e.lastIndex,t}function ue(e,t,n){return c(t?n(h(e),!0):h(e),o,new e.constructor)}function ae(e){return an?Object(an.call(e)):{}}function ce(e,t){return new e.constructor(t?ne(e.buffer):e.buffer,e.byteOffset,e.length)}function se(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function le(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var u=t[o],a=r?r(n[u],e[u],u,n,e):void 0;z(n,u,void 0===a?e[u]:a)}return n}function fe(e,t){return le(e,cn(e),t)}function de(e){return W(e,xe,cn)}function pe(e,t){var n=e.__data__;return me(t)?n["string"==typeof t?"string":"hash"]:n.map}function he(e,t){var n=l(e,t);return Q(n)?n:void 0}function ve(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Mt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ye(e){return"function"!=typeof e.constructor||je(e)?{}:Y(Vt(e))}function be(e,t,n,r){var o=e.constructor;switch(t){case tt:return ne(e);case Be:case qe:return new o(+e);case nt:return re(e,r);case rt:case ot:case it:case ut:case at:case ct:case st:case lt:case ft:return ce(e,r);case He:return oe(e,r,n);case Qe:case Ze:return new o(e);case Je:return ie(e);case Ke:return ue(e,r,n);case Xe:return ae(e)}}function _e(e,t){return!!(t=null==t?ze:t)&&("number"==typeof e||vt.test(e))&&e>-1&&e%1==0&&t>e}function ge(e,t,n){if(!Te(n))return!1;var r=typeof t;return!!("number"==r?Ne(n)&&_e(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}function me(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ee(e){return!!Tt&&Tt in e}function je(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pt)}function Oe(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function Ce(e){if(null!=e){try{return kt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Se(e,t){return e===t||e!==e&&t!==t}function we(e){return Ae(e)&&Mt.call(e,"callee")&&(!$t.call(e,"callee")||xt.call(e)==$e)}function Ne(e){return null!=e&&Ie(e.length)&&!Pe(e)}function Ae(e){return ke(e)&&Ne(e)}function Pe(e){var t=Te(e)?xt.call(e):"";return t==Ye||t==We}function Ie(e){return"number"==typeof e&&e>-1&&e%1==0&&ze>=e}function Te(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ke(e){return!!e&&"object"==typeof e}function Me(e){if(!ke(e)||xt.call(e)!=Ge||f(e))return!1;var t=Vt(e);if(null===t)return!0;var n=Mt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==Rt}function Re(e){return le(e,Le(e))}function xe(e){return Ne(e)?D(e):J(e)}function Le(e){return Ne(e)?D(e,!0):K(e)}function Ue(){return[]}function Fe(){return!1}var De=200,Ve="__lodash_hash_undefined__",ze=9007199254740991,$e="[object Arguments]",Be="[object Boolean]",qe="[object Date]",Ye="[object Function]",We="[object GeneratorFunction]",He="[object Map]",Qe="[object Number]",Ge="[object Object]",Je="[object RegExp]",Ke="[object Set]",Ze="[object String]",Xe="[object Symbol]",et="[object WeakMap]",tt="[object ArrayBuffer]",nt="[object DataView]",rt="[object Float32Array]",ot="[object Float64Array]",it="[object Int8Array]",ut="[object Int16Array]",at="[object Int32Array]",ct="[object Uint8Array]",st="[object Uint8ClampedArray]",lt="[object Uint16Array]",ft="[object Uint32Array]",dt=/[\\^$.*+?()[\]{}|]/g,pt=/\w*$/,ht=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,yt={};yt[rt]=yt[ot]=yt[it]=yt[ut]=yt[at]=yt[ct]=yt[st]=yt[lt]=yt[ft]=!0,yt[$e]=yt["[object Array]"]=yt[tt]=yt[Be]=yt[nt]=yt[qe]=yt["[object Error]"]=yt[Ye]=yt[He]=yt[Qe]=yt[Ge]=yt[Je]=yt[Ke]=yt[Ze]=yt[et]=!1;var bt={};bt[$e]=bt["[object Array]"]=bt[tt]=bt[nt]=bt[Be]=bt[qe]=bt[rt]=bt[ot]=bt[it]=bt[ut]=bt[at]=bt[He]=bt[Qe]=bt[Ge]=bt[Je]=bt[Ke]=bt[Ze]=bt[Xe]=bt[ct]=bt[st]=bt[lt]=bt[ft]=!0,bt["[object Error]"]=bt[Ye]=bt[et]=!1;var _t="object"==typeof e&&e&&e.Object===Object&&e,gt="object"==typeof self&&self&&self.Object===Object&&self,mt=_t||gt||Function("return this")(),Et="object"==typeof t&&t&&!t.nodeType&&t,jt=Et&&"object"==typeof n&&n&&!n.nodeType&&n,Ot=jt&&jt.exports===Et,Ct=Ot&&_t.process,St=function(){try{return Ct&&Ct.binding("util")}catch(e){}}(),wt=St&&St.isTypedArray,Nt=Array.prototype,At=Function.prototype,Pt=Object.prototype,It=mt["__core-js_shared__"],Tt=function(){var e=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),kt=At.toString,Mt=Pt.hasOwnProperty,Rt=kt.call(Object),xt=Pt.toString,Lt=RegExp("^"+kt.call(Mt).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Ot?mt.Buffer:void 0,Ft=mt.Symbol,Dt=mt.Uint8Array,Vt=p(Object.getPrototypeOf,Object),zt=Object.create,$t=Pt.propertyIsEnumerable,Bt=Nt.splice,qt=Object.getOwnPropertySymbols,Yt=Ut?Ut.isBuffer:void 0,Wt=p(Object.keys,Object),Ht=Math.max,Qt=he(mt,"DataView"),Gt=he(mt,"Map"),Jt=he(mt,"Promise"),Kt=he(mt,"Set"),Zt=he(mt,"WeakMap"),Xt=he(Object,"create"),en=Ce(Qt),tn=Ce(Gt),nn=Ce(Jt),rn=Ce(Kt),on=Ce(Zt),un=Ft?Ft.prototype:void 0,an=un?un.valueOf:void 0;v.prototype.clear=y,v.prototype.delete=b,v.prototype.get=_,v.prototype.has=g,v.prototype.set=m,E.prototype.clear=j,E.prototype.delete=O,E.prototype.get=C,E.prototype.has=S,E.prototype.set=w,N.prototype.clear=A,N.prototype.delete=P,N.prototype.get=I,N.prototype.has=T,N.prototype.set=k,M.prototype.clear=R,M.prototype.delete=x,M.prototype.get=L,M.prototype.has=U,M.prototype.set=F;var cn=qt?p(qt,Object):Ue,sn=H;(Qt&&sn(new Qt(new ArrayBuffer(1)))!=nt||Gt&&sn(new Gt)!=He||Jt&&"[object Promise]"!=sn(Jt.resolve())||Kt&&sn(new Kt)!=Ke||Zt&&sn(new Zt)!=et)&&(sn=function(e){var t=xt.call(e),n=t==Ge?e.constructor:void 0,r=n?Ce(n):void 0;if(r)switch(r){case en:return nt;case tn:return He;case nn:return"[object Promise]";case rn:return Ke;case on:return et}return t});var ln=Array.isArray,fn=Yt||Fe,dn=wt?function(e){return function(t){return e(t)}}(wt):G;n.exports=function(e){return ee(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,u&&ge(n[0],n[1],u)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}(function(e,t,n){Z(e,t,n)})}).call(t,n(4),n(5)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(9),d=r(f),p=n(0),h=r(p),v=n(1),y=n(2),b=r(y),_=n(3);t.default=function(){var e=new WeakMap;return function(t){function n(t,r,u,c,s,l){o(this,n);var f=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));f.moduleName=r,f.name=t,f.lifeCycleFlags=a({},u),f.instanceConfig=c,f.modulePlaceholders=f.instanceConfig.placeholders,f.createChildInstance=_.createInstance.bind(f),f.meta=l;for(var d in s)f[d]=s[d];return e.set(f,{moduleSubscriptions:[],uniqueId:l.id}),v.middleWareFns.forEach(function(e){a(f,e(f))}),f.$_observerFns=[],f.observe_For&&f.observe_For.forEach(function(e){if(!f[e]||"function"!=typeof f[e])return void console.error("{fnName} is not available over module. Can be observed.");var t={fn:f[e],deps:n.getDependencies(f[e]+"")};f.$_observerFns.push(t)}),f._=new Proxy({},f.$proxyHandler()),f}return u(n,t),l(n,[{key:"$proxyHandler",value:function(){var e=this,t=function(){setTimeout(function(){e.$_observerFns.forEach(function(t){if(Array.isArray(t.deps)){var n=path.split("=");t.deps.find(function(e){var t=e.split(".");if((0,d.default)(t,n))return!0;if(t.length>n.length){var r=n.length-1;if((0,d.default)(n[r],t[r]))return!0}return n.length>t.length?void 0:n.find(function(e,n){return t[n]!==e})})&&t.fn.call(e)}else t.fn.call(e)})})};return{get:function(e,t,r){try{return n.isObject(e[t])&&"__value"in e[t]?e[t].__value:e[t]}catch(e){return}},set:function(r,o,i){if(Array.isArray(r)&&"length"===o)return r.length=i,r;var u=void 0;return"__path"===o||"__value"===o?(r[o]=i,r):(u=r.__path?r.__path+"="+o:o,r[o]=n.isObject(i)?new Proxy(i,e.$proxyHandler()):{__value:i},Object.defineProperty(r[o],"__path",{enumerable:!1,value:u}),t(),r)},deleteProperty:function(e,r){var o=void 0;return(n.isObject(e)||Array.isArray(e))&&(o=delete e[r]),t(),o},has:function(e,t){try{return(n.isObject(e)||Array.isArray(e))&&e[t]}catch(e){return!1}}}}}],[{key:"isObject",value:function(e){return null!=e&&"object"===(void 0===e?"undefined":c(e))}},{key:"getDependencies",value:function(e){if(e.match(/\._[^.]/g))return"*";var t=e.match(/\._\.((\S)*[a-zA-Z0-9_$])/g);return t&&0!==t.length?(t=t.map(function(e){var t=e.split("._.");return t[1]||t[0]}),t.find(function(e){return e.startsWith("._[")})?"*":t=t.map(function(e){return e.split("[")[0]})):"*"}}]),l(n,[{key:"render",value:function(e){var t=this.getUniqueId(),n=e||this.instanceConfig.placeholders;this.template&&(document.querySelector("#"+t).innerHTML=this.template(n))}},{key:"getAllSubscriptions",value:function(){return e.get(this).moduleSubscriptions}},{key:"getUniqueId",value:function(){return e.get(this).uniqueId}},{key:"getParentInstanceId",value:function(){return this.meta.parent?this.meta.parent.id:""}},{key:"getModuleContainer",value:function(){return"#"+this.getUniqueId()}},{key:"getModuleName",value:function(){return this.moduleName}},{key:"getInstanceConfig",value:function(){return this.instanceConfig.placeholders}},{key:"getCSSSelector",value:function(){return h.default.getCSSSelector(this,v.moduleS)}},{key:"destroy",value:function(){}},{key:"subscribe",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.eventName;t.eventSubscriber=this.getModuleContainer(),e.get(this).moduleSubscriptions.push(t),s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"subscribe",this).call(this,t,r)}},{key:"publish",value:function(e,t){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"publish",this).call(this,e,t)}},{key:"dequeueEvents",value:function(){var e=this.getAllSubscriptions();v.eventQ.store.forEach(function(t){e.filter(function(e){if(t.eventName===e.eventName&&"RE_PLAY"===e.type)return e}).forEach(function(e){e.callback&&e.callback.call(e.context?e.context:null,t.message)})})}},{key:"unsubscribe",value:function(e,t){"object"===(void 0===e?"undefined":c(e))&&(t=e.callback,e=e.eventName),s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"unsubscribe",this).call(this,this.getModuleContainer(),e,t)}},{key:"getInstanceName",value:function(){return"MODULE"}}],[{key:"createModuleArena",value:function(e,t){var n="";return n=e.instanceConfig.moduleClassName?e.instanceConfig.theme?e.instanceConfig.moduleClassName+"-"+e.instanceConfig.theme:e.instanceConfig.moduleClassName+"-default":e.instanceConfig.theme?e.moduleName+"-"+e.instanceConfig.theme:e.moduleName+"-default","string"!=typeof t?void(document.querySelector(e.instanceConfig.container).innerHTML='<div id="'+e.getUniqueId()+'" class="'+n+' play-arena"></div>'):(""===t.trim()&&(t='<div id="'+e.getUniqueId()+'"></div>'),t)}}]),n}(b.default)}()},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function o(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function u(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function a(e,t){return e.has(t)}function c(e,t){return null==e?void 0:e[t]}function s(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(){this.__data__=Ct?Ct(null):{},this.size=0}function p(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function h(e){var t=this.__data__;if(Ct){var n=t[e];return n===_e?void 0:n}return ut.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return Ct?void 0!==t[e]:ut.call(t,e)}function y(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ct&&void 0===t?_e:t,this}function b(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(){this.__data__=[],this.size=0}function g(e){var t=this.__data__,n=D(t,e);return n>=0&&(n==t.length-1?t.pop():ht.call(t,n,1),--this.size,!0)}function m(e){var t=this.__data__,n=D(t,e);return 0>n?void 0:t[n][1]}function E(e){return D(this.__data__,e)>-1}function j(e,t){var n=this.__data__,r=D(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this}function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(){this.size=0,this.__data__={hash:new f,map:new(mt||b),string:new f}}function S(e){var t=Z(this,e).delete(e);return this.size-=t?1:0,t}function w(e){return Z(this,e).get(e)}function N(e){return Z(this,e).has(e)}function A(e,t){var n=Z(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function P(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new O;++t<n;)this.add(e[t])}function I(e){return this.__data__.set(e,_e),this}function T(e){return this.__data__.has(e)}function k(e){this.size=(this.__data__=new b(e)).size}function M(){this.__data__=new b,this.size=0}function R(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function x(e){return this.__data__.get(e)}function L(e){return this.__data__.has(e)}function U(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!mt||be-1>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new O(r)}return n.set(e,t),this.size=n.size,this}function F(e,t){var n=xt(e),r=!n&&Rt(e),o=!n&&!r&&Lt(e),i=!n&&!r&&!o&&Ut(e),a=n||r||o||i,c=a?u(e.length,String):[],s=c.length;for(var l in e)!t&&!ut.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||te(l,s))||c.push(l);return c}function D(e,t){for(var n=e.length;n--;)if(ae(e[n][0],t))return n;return-1}function V(e,t,n){var r=t(e);return xt(e)?r:o(r,n(e))}function z(e){return null==e?void 0===e?De:ke:vt&&vt in Object(e)?ee(e):ie(e)}function $(e){return pe(e)&&z(e)==je}function B(e,t,n,r,o){return e===t||(null==e||null==t||!pe(e)&&!pe(t)?e!==e&&t!==t:q(e,t,n,r,B,o))}function q(e,t,n,r,o,i){var u=xt(e),a=xt(t),c=u?Oe:Mt(e),s=a?Oe:Mt(t);c=c==je?Me:c,s=s==je?Me:s;var l=c==Me,f=s==Me,d=c==s;if(d&&Lt(e)){if(!Lt(t))return!1;u=!0,l=!1}if(d&&!l)return i||(i=new k),u||Ut(e)?Q(e,t,n,r,o,i):G(e,t,c,n,r,o,i);if(!(n&ge)){var p=l&&ut.call(e,"__wrapped__"),h=f&&ut.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,y=h?t.value():t;return i||(i=new k),o(v,y,n,r,i)}}return!!d&&(i||(i=new k),J(e,t,n,r,o,i))}function Y(e){return!(!de(e)||re(e))&&(le(e)?st:Be).test(ue(e))}function W(e){return pe(e)&&fe(e.length)&&!!Ye[z(e)]}function H(e){if(!oe(e))return _t(e);var t=[];for(var n in Object(e))ut.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Q(e,t,n,r,o,u){var c=n&ge,s=e.length,l=t.length;if(!(s==l||c&&l>s))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var d=-1,p=!0,h=n&me?new P:void 0;for(u.set(e,t),u.set(t,e);++d<s;){var v=e[d],y=t[d];if(r)var b=c?r(y,v,d,t,e,u):r(v,y,d,e,t,u);if(void 0!==b){if(b)continue;p=!1;break}if(h){if(!i(t,function(e,t){if(!a(h,t)&&(v===e||o(v,e,n,r,u)))return h.push(t)})){p=!1;break}}else if(v!==y&&!o(v,y,n,r,u)){p=!1;break}}return u.delete(e),u.delete(t),p}function G(e,t,n,r,o,i,u){switch(n){case ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ve:return!(e.byteLength!=t.byteLength||!i(new dt(e),new dt(t)));case Se:case we:case Te:return ae(+e,+t);case Ne:return e.name==t.name&&e.message==t.message;case xe:case Ue:return e==t+"";case Ie:var a=s;case Le:var c=r&ge;if(a||(a=l),e.size!=t.size&&!c)return!1;var f=u.get(e);if(f)return f==t;r|=me,u.set(e,t);var d=Q(a(e),a(t),r,o,i,u);return u.delete(e),d;case Fe:if(Tt)return Tt.call(e)==Tt.call(t)}return!1}function J(e,t,n,r,o,i){var u=n&ge,a=K(e),c=a.length;if(c!=K(t).length&&!u)return!1;for(var s=c;s--;){var l=a[s];if(!(u?l in t:ut.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var d=!0;i.set(e,t),i.set(t,e);for(var p=u;++s<c;){l=a[s];var h=e[l],v=t[l];if(r)var y=u?r(v,h,l,t,e,i):r(h,v,l,e,t,i);if(!(void 0===y?h===v||o(h,v,n,r,i):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return i.delete(e),i.delete(t),d}function K(e){return V(e,he,kt)}function Z(e,t){var n=e.__data__;return ne(t)?n["string"==typeof t?"string":"hash"]:n.map}function X(e,t){var n=c(e,t);return Y(n)?n:void 0}function ee(e){var t=ut.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var o=ct.call(e);return r&&(t?e[vt]=n:delete e[vt]),o}function te(e,t){return!!(t=null==t?Ee:t)&&("number"==typeof e||qe.test(e))&&e>-1&&e%1==0&&t>e}function ne(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function re(e){return!!at&&at in e}function oe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rt)}function ie(e){return ct.call(e)}function ue(e){if(null!=e){try{return it.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ae(e,t){return e===t||e!==e&&t!==t}function ce(e){return null!=e&&fe(e.length)&&!le(e)}function se(e,t){return B(e,t)}function le(e){if(!de(e))return!1;var t=z(e);return t==Ae||t==Pe||t==Ce||t==Re}function fe(e){return"number"==typeof e&&e>-1&&e%1==0&&Ee>=e}function de(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function pe(e){return null!=e&&"object"==typeof e}function he(e){return ce(e)?F(e):H(e)}function ve(){return[]}function ye(){return!1}var be=200,_e="__lodash_hash_undefined__",ge=1,me=2,Ee=9007199254740991,je="[object Arguments]",Oe="[object Array]",Ce="[object AsyncFunction]",Se="[object Boolean]",we="[object Date]",Ne="[object Error]",Ae="[object Function]",Pe="[object GeneratorFunction]",Ie="[object Map]",Te="[object Number]",ke="[object Null]",Me="[object Object]",Re="[object Proxy]",xe="[object RegExp]",Le="[object Set]",Ue="[object String]",Fe="[object Symbol]",De="[object Undefined]",Ve="[object ArrayBuffer]",ze="[object DataView]",$e=/[\\^$.*+?()[\]{}|]/g,Be=/^\[object .+?Constructor\]$/,qe=/^(?:0|[1-9]\d*)$/,Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye[je]=Ye[Oe]=Ye[Ve]=Ye[Se]=Ye[ze]=Ye[we]=Ye[Ne]=Ye[Ae]=Ye[Ie]=Ye[Te]=Ye[Me]=Ye[xe]=Ye[Le]=Ye[Ue]=Ye["[object WeakMap]"]=!1;var We="object"==typeof e&&e&&e.Object===Object&&e,He="object"==typeof self&&self&&self.Object===Object&&self,Qe=We||He||Function("return this")(),Ge="object"==typeof t&&t&&!t.nodeType&&t,Je=Ge&&"object"==typeof n&&n&&!n.nodeType&&n,Ke=Je&&Je.exports===Ge,Ze=Ke&&We.process,Xe=function(){try{return Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),et=Xe&&Xe.isTypedArray,tt=Array.prototype,nt=Function.prototype,rt=Object.prototype,ot=Qe["__core-js_shared__"],it=nt.toString,ut=rt.hasOwnProperty,at=function(){var e=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ct=rt.toString,st=RegExp("^"+it.call(ut).replace($e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=Ke?Qe.Buffer:void 0,ft=Qe.Symbol,dt=Qe.Uint8Array,pt=rt.propertyIsEnumerable,ht=tt.splice,vt=ft?ft.toStringTag:void 0,yt=Object.getOwnPropertySymbols,bt=lt?lt.isBuffer:void 0,_t=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),gt=X(Qe,"DataView"),mt=X(Qe,"Map"),Et=X(Qe,"Promise"),jt=X(Qe,"Set"),Ot=X(Qe,"WeakMap"),Ct=X(Object,"create"),St=ue(gt),wt=ue(mt),Nt=ue(Et),At=ue(jt),Pt=ue(Ot),It=ft?ft.prototype:void 0,Tt=It?It.valueOf:void 0;f.prototype.clear=d,f.prototype.delete=p,f.prototype.get=h,f.prototype.has=v,f.prototype.set=y,b.prototype.clear=_,b.prototype.delete=g,b.prototype.get=m,b.prototype.has=E,b.prototype.set=j,O.prototype.clear=C,O.prototype.delete=S,O.prototype.get=w,O.prototype.has=N,O.prototype.set=A,P.prototype.add=P.prototype.push=I,P.prototype.has=T,k.prototype.clear=M,k.prototype.delete=R,k.prototype.get=x,k.prototype.has=L,k.prototype.set=U;var kt=yt?function(e){return null==e?[]:(e=Object(e),r(yt(e),function(t){return pt.call(e,t)}))}:ve,Mt=z;(gt&&Mt(new gt(new ArrayBuffer(1)))!=ze||mt&&Mt(new mt)!=Ie||Et&&"[object Promise]"!=Mt(Et.resolve())||jt&&Mt(new jt)!=Le||Ot&&"[object WeakMap]"!=Mt(new Ot))&&(Mt=function(e){var t=z(e),n=t==Me?e.constructor:void 0,r=n?ue(n):"";if(r)switch(r){case St:return ze;case wt:return Ie;case Nt:return"[object Promise]";case At:return Le;case Pt:return"[object WeakMap]"}return t});var Rt=$(function(){return arguments}())?$:function(e){return pe(e)&&ut.call(e,"callee")&&!pt.call(e,"callee")},xt=Array.isArray,Lt=bt||ye,Ut=et?function(e){return function(t){return e(t)}}(et):W;n.exports=se}).call(t,n(4),n(5)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EVENT_ENUM:{keepOn:"KEEP_ON",replay:"RE_PLAY",playAfterRender:"PLAY_AFTER_RENDER"},MODULE_EVENTS:{resolveRenderOn:"resolveRenderOn",render:"render",onRenderComplete:"onRenderComplete",onStatusChange:"__onStatusChange",destroy:"destroy"},onStatusChange_EVENTS:{onCreate:"LIFECYCLE:CREATED",keepOnReplaySubscribed:"LIFECYCLE:KEEP_ON_&_REPLAY_SUBSCRIBED",initOnSubscribed:"LIFECYCLE:INIT_ON_SUBSCRIBED",resolveRenderOnCalled:"LIFECYCLE:RESOLVE_RENDER_ON_CALLED",listensToPlayAfterRenderSubscribed:"LIFECYCLE:LISTENS_TO_PLAY_AFTER_RENDER_SUBSCRIBED",renderCalled:"LIFECYCLE:ON_RENDER_CALLED",onRenderCompleteCalled:"LIFECYCLE:ON_RENDER_CAOMPLETE_CALLED"},lifeCycleFlags:{booted:!0,preRenderResolved:!1,rendered:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={attachListener:function(e){document.addEventListener("content-script-to-blinx",function(t){var n;switch(t.detail.eventId){case"GET_MODULES":n={eventId:"GET_MODULES_REPONSE",data:function(){var t=[];return e().forEach(function(e,n){var r={moduleName:e.moduleName,moduleConfig:{container:e.instanceConfig.container,listensTo:e.instanceConfig.listensTo,placeholders:JSON.stringify(e.instanceConfig.placeholders)},subModules:function e(t){if(t.config&&t.config.modules){var n=[];return t.config.modules.forEach(function(t,r){n.push({moduleName:t.moduleName,moduleConfig:{container:t.instanceConfig.container,listensTo:t.instanceConfig.listensTo,placeholders:JSON.stringify(t.instanceConfig.placeholders)},subModules:e(t),moduleInstanceConfig:JSON.stringify(t.instanceConfig)})}),n}return[]}(e),moduleInstanceConfig:JSON.stringify(e.instanceConfig)};t.push(r)}),t}()}}var t=new CustomEvent("blinx-to-content-script",{bubbles:!0,detail:n});document.dispatchEvent(t)})}}}])});