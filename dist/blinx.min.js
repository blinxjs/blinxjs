!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Truss=t():e.Truss=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PubSubHelper=void 0;var o=n(4),i=r(o),u=n(3);t.PubSubHelper=new i.default;t.default={createInstance:u.createInstance,destroyInstance:u.destroyInstance,destroyModuleInstance:u.destroyModuleInstance,use:u.use}},function(e,t){"use strict";function n(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function r(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=-1;t.default={getNextUniqueId:function(){return"UIF-"+ ++i},pick:function(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n},length:function(e){return Array.isArray(e)?e.length:"object"===(void 0===e?"undefined":o(e))?Object.keys(e).length:"string"==typeof e?e.length:0},trim:function(e,t){return e.slice(n(e,t),r(e,t)+1)},clearSlashes:function(e){return this.trim(e,"/")},partial:function(e){var t=Array.prototype.slice,n=t.call(arguments,1);return function(){return e.apply(this,n.concat(t.call(arguments,0)))}},getCSSSelector:function(e,t){try{for(var n=""+e.instanceConfig.container,r=e.meta.parent&&e.meta.parent.pointer?e.meta.parent.pointer:void 0;r;)n=r.instanceConfig.container+" "+n,r=r.parent&&r.parent.pointer?r.parent.pointer.meta.id:void 0;return n}catch(o){return""}},configValidator:function(e){var t=!0;return e||(console.error("Config is mandatory to create instance of any module."),t=!1),e.moduleName||(console.error("moduleName property on config is require field to create instance of any module."),t=!1),"string"!=typeof e.moduleName&&(console.error("moduleName property on config should be string."),t=!1),e.module&&"object"===o(e.module)||(console.error("module property on config is mandatory and should be object"),t=!1),(!e.instanceConfig||e.instanceConfig&&!e.instanceConfig.container)&&(console.error("instanceConfig property and instanceConfig.container is mandatory"),t=!1),t||console.dirxml(e),t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=n([],{insertInstance:function(e){this.push(e)},deleteInstance:function(e){for(var t=this.length-1;t>=0;t--)if(this[t].meta.id===e){this.splice(t,1);break}},findInstance:function(e,t){return e?this.filter(function(t){if(t.meta.id===e)return t}):t?this.filter(function(e){if(e.name===t)return e}):[]}}),o="undefined"!=typeof window,i=!o,u={},c={store:[]},a=[];t.isBrowser=o,t.subscriptions=u,t.moduleS=r,t.isServer=i,t.eventQ=c,t.middleWareFns=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=void 0;return n="string"==typeof e?p.moduleS.findInstance(e):e.meta?p.moduleS.findInstance(e.meta.id):p.moduleS.findInstance(null,e.name),n.forEach(function(e){e[y.default.MODULE_EVENTS.destroy]&&e[y.default.MODULE_EVENTS.destroy]();var n=t.document.querySelector("#"+e.getUniqueId());n&&n.remove();var r=e.getAllSubscriptions();if(r.forEach(function(t){e.unsubscribe(t.eventName,t.callback)}),e.meta.children&&e.meta.children.length){var i=e.meta.children.map(function(e){return e.pointer});e.meta.children=[],i.forEach(function(e){o(e)})}p.moduleS.deleteInstance(e.meta.id)}),!0}function i(e){if(e=s.default.merge({},e),a.default.configValidator(e)){var t=p.moduleS.filter(function(t){return t.instanceConfig.container===e.instanceConfig.container});t.forEach(function(e){o(e)});var n=[],r=[];return O.call(this,e.moduleName,e,e.module,e.instanceConfig,r),C.call(this,r,n),new Promise(function(e,t){Promise.all(n).then(e).catch(t)})}}function u(e){p.middleWareFns.push(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyInstance=void 0,t.destroyModuleInstance=o,t.createInstance=i,t.use=u;var c=n(1),a=r(c),l=n(6),s=r(l),f=n(7),d=r(f),p=n(2),h=n(5),y=r(h),b=function(e,t){e[y.default.MODULE_EVENTS.onStatusChange]&&e[y.default.MODULE_EVENTS.onStatusChange](t)},v=function(e,t){e.publish(""+e.getModuleName()+t,{moduleInstanceId:e.getUniqueId()})},g=function(e){return e.instanceConfig.initOn&&e.lifeCycleFlags.rendered?Promise.resolve(e.path):m(e)},m=function(e,t){if(d.default.createModuleArena(e),e[y.default.MODULE_EVENTS.resolveRenderOn]){var n=e[y.default.MODULE_EVENTS.resolveRenderOn](t);if(n&&n.then&&"function"==typeof n.then){var r=function(t){return e.lifeCycleFlags.preRenderResolved=!0,b(e,y.default.onStatusChange_EVENTS.resolveRenderOnCalled),_(e,t)};return n.then(r).catch(r)}return b(e,y.default.onStatusChange_EVENTS.resolveRenderOnCalled),_(e,n)}return b(e,y.default.onStatusChange_EVENTS.resolveRenderOnCalled),_(e,t)},_=function(e,t){return e.instanceConfig.listensTo&&e.instanceConfig.listensTo.length&&e.instanceConfig.listensTo.filter(function(e){if(e.type===y.default.EVENT_ENUM.playAfterRender||!e.type)return e}).forEach(function(t){e.subscribe({eventName:t.eventName,callback:e[t.callback],context:e,eventPublisher:t.eventPublisher,once:t.once})}),b(e,y.default.onStatusChange_EVENTS.listensToPlayAfterRenderSubscribed),E(e,t)},E=function(e,t){return new Promise(function(n,r){var o=e[y.default.MODULE_EVENTS.render](t,o);b(e,y.default.onStatusChange_EVENTS.renderCalled),e[y.default.MODULE_EVENTS.onRenderComplete]&&(e[y.default.MODULE_EVENTS.onRenderComplete](),b(e,y.default.onStatusChange_EVENTS.onRenderCompleteCalled)),n(),e.lifeCycleFlags.rendered=!0,v(e,"_READY")})},C=function N(e,t){var n=e.filter(function(e){return!e.meta.parent.id});n.length||(n=[e[0]]),n.forEach(function(e){var n=new Promise(function(n,r){g(e).then(function(){e.meta.children&&e.meta.children.length&&e.meta.children&&e.meta.children.forEach(function(e){N([e.pointer],t)}),n(e.meta.id)})});t.push(n)})},S=function(e){e.instanceConfig.initOn&&e.subscribe({eventName:e.instanceConfig.initOn.eventName,eventPublisher:e.instanceConfig.initOn.eventPublisher,context:e.instanceConfig,callback:a.default.partial(m,e)}),b(e,y.default.onStatusChange_EVENTS.initOnSubscribed),e.instanceConfig.listensTo&&e.instanceConfig.listensTo.length&&e.instanceConfig.listensTo.filter(function(e){if(e.type===y.default.EVENT_ENUM.keepOn||e.type===y.default.EVENT_ENUM.replay)return e}).forEach(function(t){e.subscribe({eventName:t.eventName,callback:e[t.callback],context:e,eventPublisher:t.eventPublisher,once:t.once,type:t.type})}),b(e,y.default.onStatusChange_EVENTS.keepOnReplaySubscribed)},O=function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.module,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.instanceConfig,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=this,u=arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:u&&u.meta,l=t.name?t.name.split("."):void 0,f=void 0;if(u&&u.instanceConfig&&u.instanceConfig.modules&&u.instanceConfig.modules.length){var h=u.instanceConfig.modules.filter(function(t){return t.moduleName===e});if(h&&h.length){var g=h[0].instanceConfig||{};r.placeholders=g.placeholders||r.placeholders,r.listensTo=g.listensTo||r.listensTo}}r.placeholders&&n&&n.config&&n.config.placeholders&&(r.placeholders=s.default.merge(n.config.placeholders,r.placeholders)),this instanceof d.default?!function(){var e=i.getUniqueId();f=p.moduleS.filter(function(t){return t.meta.id===e})}():!u&&l&&2===l.length&&(f=p.moduleS.filter(function(e){return e.name===l[0]})),f&&f.length&&(u=f[0],c=u.meta);var m={id:a.default.getNextUniqueId(),parent:{id:c&&c.id?c.id:void 0,pointer:u},children:[],siblings:c?[].concat(c.children):[]},_=new d.default(t.name,e,y.default.lifeCycleFlags,r,n,m);return p.moduleS.insertInstance(_),o.push(_),S(_),v(_,"_CREATED"),b(_,y.default.onStatusChange_EVENTS.onCreate),c&&(m.siblings=[].concat(c.children),c.children.push({id:m.id,pointer:_})),n.config&&n.config.modules&&n.config.modules.length?void n.config.modules.forEach(function(e){I(e.moduleName,e,e.module,e.instanceConfig,o,_)}):o},j=t.destroyInstance=o;t.default={createInstance:i,destroyInstance:j,destroyModuleInstance:o,use:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),a=n(2),l=function(e,t){console.group("Event Subscribed"),console.info(e),console.dirxml(t),console.groupEnd()},s=function(e,t){console.group("Event Published"),console.info(e),console.dirxml(t),console.groupEnd()},f=function(e,t){console.group("Event UnSubscribed"),console.info(e),console.dirxml(t),console.groupEnd()},d=function(){function e(){o(this,e)}return i(e,[{key:"subscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.eventName;a.subscriptions[t]||(a.subscriptions[t]=[]);var n=c.default.pick(e,["callback","context","eventSubscriber","eventPublisher","once","type"]);a.subscriptions[t].push(n),l(t,e)}},{key:"publish",value:function(e,t){var n="";3===arguments.length?(n=arguments[0]||"",e=arguments[1],t=arguments[2]):n=c.default.getCSSSelector(this);var r=a.subscriptions[e];if(r){s(e,{eventName:e,message:t,publisher:n,subscription:r});var o=r.filter(function(e){if("RE_PLAY"===e.type)return e});o.length&&a.eventQ.store.push({eventName:e,message:t,publisher:n}),r&&r.length&&r.forEach(function(r){var o=r.callback,i=r.context,u=r.once,c=!1;if(r.eventPublisher){var l=RegExp(r.eventPublisher+"$");if(l.test(n))c=!0;else{for(var s=n.split(" "),f=r.eventPublisher.split(" "),d=s.length,p=f.length;s.length&&f.length;)d=s.length,p=f.length,s[d-1]===f[p-1]?(s.pop(),f.pop()):s.pop();f.length||(c=!0)}}if(!r.eventPublisher||c){var h=t;"RE_PLAY"===r.type&&(h=a.eventQ.store.filter(function(t){if(t.publisher===n&&t.eventName===e)return t}).map(function(e){return e.message})),o.call(i?i:null,h),u&&(a.subscriptions[e]=a.subscriptions[e].filter(function(e){return e.eventSubscriber!==r.eventSubscriber&&e.eventName!==r.eventName}))}})}}},{key:"unsubscribe",value:function(e,t,n){var r=a.subscriptions[t];if(r){var o=r.filter(function(e){if("RE_PLAY"===e.type)return e});a.subscriptions[t]=r.filter(function(t){return!(t.callback===n&&t.eventSubscriber===e)}),f(t,r),o.length&&(a.subscriptions[t].length||(a.eventQ.store=a.eventQ.store.filter(function(e){if(e.eventName!==t)return e})))}}}]),e}();t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EVENT_ENUM:{keepOn:"KEEP_ON",replay:"RE_PLAY",playAfterRender:"PLAY_AFTER_RENDER"},MODULE_EVENTS:{resolveRenderOn:"resolveRenderOn",render:"render",onRenderComplete:"onRenderComplete",onStatusChange:"__onStatusChange",destroy:"destroy"},onStatusChange_EVENTS:{onCreate:"LIFECYCLE:CREATED",keepOnReplaySubscribed:"LIFECYCLE:KEEP_ON_&_REPLAY_SUBSCRIBED",initOnSubscribed:"LIFECYCLE:INIT_ON_SUBSCRIBED",resolveRenderOnCalled:"LIFECYCLE:RESOLVE_RENDER_ON_CALLED",listensToPlayAfterRenderSubscribed:"LIFECYCLE:LISTENS_TO_PLAY_AFTER_RENDER_SUBSCRIBED",renderCalled:"LIFECYCLE:ON_RENDER_CALLED",onRenderCompleteCalled:"LIFECYCLE:ON_RENDER_CAOMPLETE_CALLED"},lifeCycleFlags:{booted:!0,preRenderResolved:!1,rendered:!1}}},function(e,t,n){(function(e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};(function(){function o(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function u(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function l(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function f(e){return function(t){return e(t)}}function d(e,t){return null==e?Be:e[t]}function p(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function y(e,t){return function(n){return e(t(n))}}function b(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function v(){}function g(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=ln?ln(null):{}}function _(e){return this.has(e)&&delete this.__data__[e]}function E(e){var t=this.__data__;if(ln){var n=t[e];return n===Qe?Be:n}return Yt.call(t,e)?t[e]:Be}function C(e){var t=this.__data__;return ln?t[e]!==Be:Yt.call(t,e)}function S(e,t){var n=this.__data__;return n[e]=ln&&t===Be?Qe:t,this}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(){this.__data__=[]}function N(e){var t=this.__data__,n=W(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Xt.call(t,n,1),!0}function I(e){var t=this.__data__,n=W(t,e);return 0>n?Be:t[n][1]}function P(e){return W(this.__data__,e)>-1}function w(e,t){var n=this.__data__,r=W(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(){this.__data__={hash:new g,map:new(on||O),string:new g}}function R(e){return ve(this,e).delete(e)}function k(e){return ve(this,e).get(e)}function L(e){return ve(this,e).has(e)}function M(e,t){return ve(this,e).set(e,t),this}function x(e){this.__data__=new O(e)}function U(){this.__data__=new O}function V(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function F(e){return this.__data__.has(e)}function q(e,t){var n=this.__data__;if(n instanceof O){var r=n.__data__;if(!on||We-1>r.length)return r.push([e,t]),this;n=this.__data__=new A(r)}return n.set(e,t),this}function Y(e,t){var n=mn(e)||Ae(e)?s(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!Yt.call(e,i)||o&&("length"==i||Ce(i,r))||n.push(i);return n}function B(e,t,n){(n===Be||we(e[t],n))&&("number"!=typeof t||n!==Be||t in e)||(e[t]=n)}function $(e,t,n){var r=e[t];Yt.call(e,t)&&we(r,n)&&(n!==Be||t in e)||(e[t]=n)}function W(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1}function Q(e,t){return e&&pe(t,De(t),e)}function H(e,t,n,r,o,i,u){var a;if(r&&(a=i?r(e,o,i,u):r(e)),a!==Be)return a;if(!Me(e))return e;var l=mn(e);if(l){if(a=me(e),!t)return de(e,a)}else{var s=gn(e),f=s==Ze||s==et;if(_n(e))return oe(e,t);if(s==rt||s==ze||f&&!i){if(p(e))return i?e:{};if(a=_e(f?{}:e),!t)return he(e,Q(a,e))}else{if(!Nt[s])return i?e:{};a=Ee(e,s,H,t)}}u||(u=new x);var d=u.get(e);if(d)return d;if(u.set(e,a),!l)var h=n?be(e):De(e);return c(h||e,function(o,i){h&&(i=o,o=e[i]),$(a,i,H(o,t,n,r,i,e,u))}),a}function z(e){return Me(e)?Gt(e):{}}function K(e,t,n){var r=t(e);return mn(e)?r:a(r,n(e))}function G(e){return $t.call(e)}function J(e){if(!Me(e)||je(e))return!1;var t=ke(e)||p(e)?Wt:St;return t.test(Pe(e))}function X(e){return xe(e)&&Le(e.length)&&!!jt[$t.call(e)]}function Z(e){if(!Ne(e))return tn(e);var t=[];for(var n in Object(e))Yt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ee(e){if(!Me(e))return Ie(e);var t=Ne(e),n=[];for(var r in e)("constructor"!=r||!t&&Yt.call(e,r))&&n.push(r);return n}function te(e,t,n,r,o){if(e!==t){if(!mn(t)&&!En(t))var i=ee(t);c(i||t,function(u,c){if(i&&(c=u,u=t[c]),Me(u))o||(o=new x),ne(e,t,c,n,te,r,o);else{var a=r?r(e[c],u,c+"",e,t,o):Be;a===Be&&(a=u),B(e,c,a)}})}}function ne(e,t,n,r,o,i,u){var c=e[n],a=t[n],l=u.get(a);if(l)return B(e,n,l),Be;var s=i?i(c,a,n+"",e,t,u):Be,f=s===Be;f&&(s=a,mn(a)||En(a)?mn(c)?s=c:Re(c)?s=de(c):(f=!1,s=H(a,!0)):Ue(a)||Ae(a)?Ae(c)?s=Ve(c):!Me(c)||r&&ke(c)?(f=!1,s=H(a,!0)):s=c:f=!1),f&&(u.set(a,s),o(s,a,r,i,u),u.delete(a)),B(e,n,s)}function re(e,t){return t=nn(t===Be?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=nn(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var c=Array(t+1);++r<t;)c[r]=n[r];return c[t]=i,u(e,this,c)}}function oe(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ie(e){var t=new e.constructor(e.byteLength);return new zt(t).set(new zt(e)),t}function ue(e,t){var n=t?ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ce(e,t,n){var r=t?n(h(e),!0):h(e);return l(r,o,new e.constructor)}function ae(e){var t=new e.constructor(e.source,Ct.exec(e));return t.lastIndex=e.lastIndex,t}function le(e,t,n){var r=t?n(b(e),!0):b(e);return l(r,i,new e.constructor)}function se(e){return bn?Object(bn.call(e)):{}}function fe(e,t){var n=t?ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function de(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function pe(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var u=t[o],c=r?r(n[u],e[u],u,n,e):Be;$(n,u,c===Be?e[u]:c)}return n}function he(e,t){return pe(e,vn(e),t)}function ye(e){return re(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:Be,u=o>2?n[2]:Be;for(i=e.length>3&&"function"==typeof i?(o--,i):Be,u&&Se(n[0],n[1],u)&&(i=3>o?Be:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}function be(e){return K(e,De,vn)}function ve(e,t){var n=e.__data__;return Oe(t)?n["string"==typeof t?"string":"hash"]:n.map}function ge(e,t){var n=d(e,t);return J(n)?n:Be}function me(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Yt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function _e(e){return"function"!=typeof e.constructor||Ne(e)?{}:z(Kt(e))}function Ee(e,t,n,r){var o=e.constructor;switch(t){case st:return ie(e);case Ge:case Je:return new o((+e));case ft:return ue(e,r);case dt:case pt:case ht:case yt:case bt:case vt:case gt:case mt:case _t:return fe(e,r);case tt:return ce(e,r,n);case nt:case ct:return new o(e);case it:return ae(e);case ut:return le(e,r,n);case at:return se(e)}}function Ce(e,t){return t=null==t?He:t,!!t&&("number"==typeof e||Ot.test(e))&&e>-1&&e%1==0&&t>e}function Se(e,t,n){if(!Me(n))return!1;var o=Be===t?"undefined":r(t);return!!("number"==o?Te(n)&&Ce(t,n.length):"string"==o&&t in n)&&we(n[t],e)}function Oe(e){var t=Be===e?"undefined":r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function je(e){return!!Ft&&Ft in e}function Ne(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Vt;return e===n}function Ie(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function Pe(e){if(null!=e){try{return qt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function we(e,t){return e===t||e!==e&&t!==t}function Ae(e){return Re(e)&&Yt.call(e,"callee")&&(!Jt.call(e,"callee")||$t.call(e)==ze)}function Te(e){return null!=e&&Le(e.length)&&!ke(e)}function Re(e){return xe(e)&&Te(e)}function ke(e){var t=Me(e)?$t.call(e):"";return t==Ze||t==et}function Le(e){return"number"==typeof e&&e>-1&&e%1==0&&He>=e}function Me(e){var t=Be===e?"undefined":r(e);return!!e&&("object"==t||"function"==t)}function xe(e){return!!e&&"object"==(Be===e?"undefined":r(e))}function Ue(e){if(!xe(e)||$t.call(e)!=rt||p(e))return!1;var t=Kt(e);if(null===t)return!0;var n=Yt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&qt.call(n)==Bt}function Ve(e){return pe(e,Fe(e))}function De(e){return Te(e)?Y(e):Z(e)}function Fe(e){return Te(e)?Y(e,!0):ee(e)}function qe(){return[]}function Ye(){return!1}var Be,$e="4.15.0",We=200,Qe="__lodash_hash_undefined__",He=9007199254740991,ze="[object Arguments]",Ke="[object Array]",Ge="[object Boolean]",Je="[object Date]",Xe="[object Error]",Ze="[object Function]",et="[object GeneratorFunction]",tt="[object Map]",nt="[object Number]",rt="[object Object]",ot="[object Promise]",it="[object RegExp]",ut="[object Set]",ct="[object String]",at="[object Symbol]",lt="[object WeakMap]",st="[object ArrayBuffer]",ft="[object DataView]",dt="[object Float32Array]",pt="[object Float64Array]",ht="[object Int8Array]",yt="[object Int16Array]",bt="[object Int32Array]",vt="[object Uint8Array]",gt="[object Uint8ClampedArray]",mt="[object Uint16Array]",_t="[object Uint32Array]",Et=/[\\^$.*+?()[\]{}|]/g,Ct=/\w*$/,St=/^\[object .+?Constructor\]$/,Ot=/^(?:0|[1-9]\d*)$/,jt={};jt[dt]=jt[pt]=jt[ht]=jt[yt]=jt[bt]=jt[vt]=jt[gt]=jt[mt]=jt[_t]=!0,jt[ze]=jt[Ke]=jt[st]=jt[Ge]=jt[ft]=jt[Je]=jt[Xe]=jt[Ze]=jt[tt]=jt[nt]=jt[rt]=jt[it]=jt[ut]=jt[ct]=jt[lt]=!1;var Nt={};Nt[ze]=Nt[Ke]=Nt[st]=Nt[ft]=Nt[Ge]=Nt[Je]=Nt[dt]=Nt[pt]=Nt[ht]=Nt[yt]=Nt[bt]=Nt[tt]=Nt[nt]=Nt[rt]=Nt[it]=Nt[ut]=Nt[ct]=Nt[at]=Nt[vt]=Nt[gt]=Nt[mt]=Nt[_t]=!0,Nt[Xe]=Nt[Ze]=Nt[lt]=!1;var It="object"==(Be===e?"undefined":r(e))&&e&&e.Object===Object&&e,Pt="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,wt=It||Pt||Function("return this")(),At="object"==r(t)&&t&&!t.nodeType&&t,Tt=At&&"object"==r(n)&&n&&!n.nodeType&&n,Rt=Tt&&Tt.exports===At,kt=Rt&&It.process,Lt=function(){try{return kt&&kt.binding("util")}catch(e){}}(),Mt=Lt&&Lt.isTypedArray,xt=Array.prototype,Ut=Function.prototype,Vt=Object.prototype,Dt=wt["__core-js_shared__"],Ft=function(){var e=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qt=Ut.toString,Yt=Vt.hasOwnProperty,Bt=qt.call(Object),$t=Vt.toString,Wt=RegExp("^"+qt.call(Yt).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=Rt?wt.Buffer:Be,Ht=wt.Symbol,zt=wt.Uint8Array,Kt=y(Object.getPrototypeOf,Object),Gt=Object.create,Jt=Vt.propertyIsEnumerable,Xt=xt.splice,Zt=Object.getOwnPropertySymbols,en=Qt?Qt.isBuffer:Be,tn=y(Object.keys,Object),nn=Math.max,rn=ge(wt,"DataView"),on=ge(wt,"Map"),un=ge(wt,"Promise"),cn=ge(wt,"Set"),an=ge(wt,"WeakMap"),ln=ge(Object,"create"),sn=Pe(rn),fn=Pe(on),dn=Pe(un),pn=Pe(cn),hn=Pe(an),yn=Ht?Ht.prototype:Be,bn=yn?yn.valueOf:Be;g.prototype.clear=m,g.prototype.delete=_,g.prototype.get=E,g.prototype.has=C,g.prototype.set=S,O.prototype.clear=j,O.prototype.delete=N,O.prototype.get=I,O.prototype.has=P,O.prototype.set=w,A.prototype.clear=T,A.prototype.delete=R,A.prototype.get=k,A.prototype.has=L,A.prototype.set=M,x.prototype.clear=U,x.prototype.delete=V,x.prototype.get=D,x.prototype.has=F,x.prototype.set=q;var vn=Zt?y(Zt,Object):qe,gn=G;(rn&&gn(new rn(new ArrayBuffer(1)))!=ft||on&&gn(new on)!=tt||un&&gn(un.resolve())!=ot||cn&&gn(new cn)!=ut||an&&gn(new an)!=lt)&&(gn=function(e){var t=$t.call(e),n=t==rt?e.constructor:Be,r=n?Pe(n):Be;if(r)switch(r){case sn:return ft;case fn:return tt;case dn:return ot;case pn:return ut;case hn:return lt}return t});var mn=Array.isArray,_n=en||Ye,En=Mt?f(Mt):X,Cn=ye(function(e,t,n){te(e,t,n)});v.keys=De,v.keysIn=Fe,v.merge=Cn,v.toPlainObject=Ve,v.eq=we,v.isArguments=Ae,v.isArray=mn,v.isArrayLike=Te,v.isArrayLikeObject=Re,v.isBuffer=_n,v.isFunction=ke,v.isLength=Le,v.isObject=Me,v.isObjectLike=xe,v.isPlainObject=Ue,v.isTypedArray=En,v.stubArray=qe,v.stubFalse=Ye,v.VERSION=$e,Tt&&((Tt.exports=v)._=v,At._=v)}).call(void 0)}).call(t,function(){return this}(),n(8)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function g(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},f=n(1),d=r(f),p=n(2),h=n(4),y=r(h),b=n(3),v=function(){var e=new WeakMap,t=function(t){function n(t,r,u,c,l,s){o(this,n);var f=i(this,Object.getPrototypeOf(n).call(this));p.middleWareFns.forEach(function(e){a(f,e(f))}),f.moduleName=r,f.name=t,f.lifeCycleFlags=u,f.instanceConfig=c,f.modulePlaceholders=f.instanceConfig.placeholders,f.createChildInstance=b.createInstance.bind(f),f.meta=s;for(var d in l)f[d]=l[d];return e.set(f,{moduleSubscriptions:[],uniqueId:s.id}),f}return u(n,t),l(n,[{key:"render",value:function(e){var t=this.getUniqueId(),n=e||this.instanceConfig.placeholders;this.template&&(document.querySelector("#"+t).innerHTML=this.template(n))}},{key:"getAllSubscriptions",value:function(){return e.get(this).moduleSubscriptions}},{key:"getUniqueId",value:function(){return e.get(this).uniqueId}},{key:"getParentInstanceId",value:function(){return this.meta.parent?this.meta.parent.id:""}},{key:"getModuleContainer",value:function(){return"#"+this.getUniqueId()}},{key:"getModuleName",value:function(){return this.moduleName}},{key:"getInstanceConfig",value:function(){return this.instanceConfig.placeholders}},{key:"getCSSSelector",value:function(){return d.default.getCSSSelector(this,p.moduleS)}},{key:"destroy",value:function(){}},{key:"subscribe",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.eventName;t.eventSubscriber=this.getModuleContainer(),e.get(this).moduleSubscriptions.push(t),s(Object.getPrototypeOf(n.prototype),"subscribe",this).call(this,t,r)}},{key:"publish",value:function(e,t){s(Object.getPrototypeOf(n.prototype),"publish",this).call(this,e,t)}},{key:"unsubscribe",value:function(e,t){"object"===(void 0===e?"undefined":c(e))&&(t=e.callback,e=e.eventName),s(Object.getPrototypeOf(n.prototype),"unsubscribe",this).call(this,this.getModuleContainer(),e,t)}}],[{key:"createModuleArena",value:function(e,t){var n="";return n=e.instanceConfig.moduleClassName?e.instanceConfig.theme?e.instanceConfig.moduleClassName+"-"+e.instanceConfig.theme:e.instanceConfig.moduleClassName+"-default":e.instanceConfig.theme?e.moduleName+"-"+e.instanceConfig.theme:e.moduleName+"-default","string"!=typeof t?void(document.querySelector(e.instanceConfig.container).innerHTML='<div id="'+e.getUniqueId()+'" class="'+n+' play-arena"></div>'):(""===t.trim()&&(t='<div id="'+e.getUniqueId()+'"></div>'),t)}}]),n}(y.default);return t}();t.default=v},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});